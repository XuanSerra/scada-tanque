let nivel = 50; // Nivel inicial del tanque (0-100%)
let temperatura = 25; // Temperatura inicial
let bombaEncendida = false;

function actualizarDatos() {
    nivel += Math.random() * 2 - 1; // Simula variación del nivel
    if (nivel < 0) nivel = 0;
    if (nivel > 100) nivel = 100;

    temperatura += Math.random() * 0.5 - 0.25; // Simula variación de temperatura
    if (temperatura < 0) temperatura = 0;

    document.getElementById("nivel").textContent = nivel.toFixed(1) + "%";
    document.getElementById("temperatura").textContent = temperatura.toFixed(1) + "°C";
    document.getElementById("bomba").textContent = bombaEncendida ? "Encendida" : "Apagada";
}

function toggleBomba() {
    bombaEncendida = !bombaEncendida;
    actualizarDatos();
}

// Control del checkbox para mostrar/ocultar teclas
const checkbox = document.getElementById("mostrarTeclas");
const teclasSimulacion = document.getElementById("teclasSimulacion");

function actualizarVisibilidadTeclas() {
    if (checkbox.checked) {
        teclasSimulacion.style.display = "block"; // Mostrar cuando está tildado
    } else {
        teclasSimulacion.style.display = "none"; // Ocultar cuando no está tildado
    }
}

// Escuchar cambios en el checkbox
checkbox.addEventListener("change", actualizarVisibilidadTeclas);

// Control de teclas W y S para simular nivel
document.addEventListener("keydown", (event) => {
    if (checkbox.checked) { // Solo funciona si las teclas están habilitadas
        if (event.key === "w" || event.key === "W") {
            nivel += 5;
            if (nivel > 100) nivel = 100;
            actualizarDatos();
        } else if (event.key === "s" || event.key === "S") {
            nivel -= 5;
            if (nivel < 0) nivel = 0;
            actualizarDatos();
        }
    }
});

// Inicializar
setInterval(actualizarDatos, 2000);
actualizarDatos();
actualizarVisibilidadTeclas(); // Aplicar estado inicial del checkbox